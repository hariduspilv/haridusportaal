<?xml version="1.0" encoding="UTF-8"?>
<Configuration name="htm-liides" status="WARN" monitorInterval="30">

  <Properties>
    <Property name="LOGS" value="./logs" />
  </Properties>

  <Appenders>
    <Console name="Console">
      <PatternLayout>
        <pattern>%d{dd.MM.yyyy HH:mm:ss.S} %-5level [%t] {%C{1.}:%L %msg%n%throwable</pattern>
      </PatternLayout>
    </Console>

    <RollingFile name="RollingFile"
      fileName="${LOGS}/${date:yyyy-MM}/htm-services_loime.log"
      filePattern="${LOGS}/$${date:yyyy-MM}/htm-services_loime-%d{dd.MM.yyyy}.log.gz">
<!--      filePattern="${LOGS}/$${date:yyyy-MM}/htm-services_loime-%d{dd.MM.yyyy}-%i.log.gz">-->
      <PatternLayout>
        <pattern>%d{dd.MM.yyyy HH:mm:ss.S} %-5level [%t] %C{1.}:%L %msg%n%throwable</pattern>
      </PatternLayout>
      <Policies>
        <!-- rollover on startup, daily and when the file reaches 10 MegaBytes -->
<!--        <OnStartupTriggeringPolicy />-->
<!--        <SizeBasedTriggeringPolicy size="10 MB" />-->
        <TimeBasedTriggeringPolicy />
      </Policies>
    </RollingFile>
  </Appenders>

  <Loggers>
    <!-- LOG everything at WARN level -->
    <Root level="WARN">
      <AppenderRef ref="Console" />
      <AppenderRef ref="RollingFile" />
    </Root>

    <!-- LOG "ee.htm*" at TRACE level -->
    <Logger name="ee.htm" level="trace" additivity="false">
      <AppenderRef ref="Console" />
      <AppenderRef ref="RollingFile" />
    </Logger>

    <!-- Xtee request, response, fault to log -->
    <Logger name="com.nortal.jroad.client.util.WSConsumptionLoggingInterceptor" level="DEBUG" additivity="false">
      <AppenderRef ref="Console" />
      <AppenderRef ref="RollingFile" />
    </Logger>
  </Loggers>
</Configuration>