<article-layout>

    <max-width-wrapper>
        <breadcrumbs [path]="studyPath"></breadcrumbs>
        <loader *ngIf="loading"></loader>
        <block [titleBorder]="false" *ngIf="study$ | async as study">
            <block-title>{{ 'study.label' | translate }}</block-title>
            <block-content [noPaddingTop]="true">

                <h1>{{study.title}}</h1>
                <share [pageTitle]="study?.title"></share>

                <labels
                        *ngIf="study.fieldCustomBoolean"
                        type="orange"
                        [data]="[study.fieldStudyTag]">
                </labels>

                <p class="bold">
                    {{study.fieldIntroduction.substring(0, 300)}}
                </p>

                <p *ngIf="study?.fieldContent?.value">
                    <text-truncate-toggler [input]="study.fieldContent.value" [limit]="400"></text-truncate-toggler>
                </p>

                <images
                        *ngIf="study.fieldAdditionalImages"
                        [image]="study?.fieldAdditionalImages ? study.fieldAdditionalImages : []"
                ></images>

                <p class="bold">{{ 'study.reference_title' | translate }}:</p>
                <links *ngIf="study.fieldStudyText" [data]="[study.fieldStudyText]"></links>

                <labels
                        *ngIf="study.fieldLabel?.length"
                        [data]="study.fieldLabel">
                </labels>

                <accordion [collapsible]="false" *ngIf="study.fieldAccordion">
                    <accordion-item [title]="study.fieldAccordion.entity.fieldStudyPageAccordionTitle">
                        <ng-template>
                            <p class="bold" [innerHTML]="study.fieldAccordion.entity.fieldStudyAccordionIntro"></p>
                            <p [innerHTML]="study.fieldAccordion.entity.fieldStudyAccordionContent"></p>
                        </ng-template>
                    </accordion-item>
                </accordion>

            </block-content>
        </block>
    </max-width-wrapper>
</article-layout>
