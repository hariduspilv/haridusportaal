<base-layout>
	<div class="inline">
		<breadcrumbs path="{{ '/kool' | translatePath }}"></breadcrumbs>
	</div><!--/inline-->
	<form class="filter-wrapper" filters [eventTracker]="getGoogleAnalyticsObject()">
		<div class="inline">
			<div #filterToggle class="sm-show text-right filter-control">
				<a href="javascript:void(0);" (click)="showFilter = !showFilter" *ngIf="!showFilter">
					<span>{{ 'button.filter' | translate }}</span>
				</a>
				<a href="javascript:void(0);" (click)="showFilter = !showFilter" *ngIf="showFilter">
					<span>{{ 'button.filter_close' | translate }}</span>
				</a>
			</div>
			<ng-container *ngIf="showFilter">
				<div class="row">
					<div class="col-4 sm-12">
						<formItem type="autocomplete"
                      query="testAutocomplete"
                      queryType="school"
                                  title="{{ 'school.name' | translate }}"
                                  name="title"
                                  [(ngModel)]="searchTitle"
                                  ariaLabel="{{ 'school.name' | translate }}"
                        ></formItem>

					</div>
					<!--/col-4-->
					<div class="col-5 sm-12">
						<formItem type="autocomplete"
                      query="testAutocomplete"
                      queryType="school"
											queryField="field_search_address"
                                  title="{{ 'school.location' | translate }}"
                                  ariaLabel="{{ 'school.location' | translate }}"
                                  name="location"
                        ></formItem>
					</div>
					<!--/col-3-->

					<div class="col-3 align-end text-right sm-12 inline-flex" *ngIf="!filterFull">
						<div class="align-center filter-state sm-hide">
							<a role="button" class="pointer" (keyup.enter)="filterFull = !filterFull"
								(click)="filterFull = !filterFull" tabindex="0" aria-expanded="false">
								<span>{{ 'button.search_detailed' | translate}}</span>
							</a>
						</div>
						<div class="button-row">
							<button htm-button>{{ 'button.search' | translate }}</button>
						</div>
					</div>

				</div>
				<!--/row-->
				<div class="row" *ngIf="filterFull">

					<div class="col-4 sm-12">
						<formItem
                                type="multi-select"
                                [(ngModel)]="selectedPrimaryTypes"
                                sortOptions="true"
                                title="{{ 'school.institution_type' | translate }}"
                                name="primaryTypes"
                                [options]="primaryTypes"
                                (onChange)="setSecondaryTypes()"
                                ariaLabel="{{ 'school.institution_type' | translate }}"
                        >
						</formItem>
					</div>
					<div class="col-5 sm-12" [class.disabled]="secondaryFilteredTypes.length > 0 ? false : true">
						<formItem
                                type="multi-select"
                                [(ngModel)]="selectedSecondaryTypes"
                                sortOptions="true"
							    [disabled]="secondaryFilteredTypes.length > 0 ? false : true"
							    [title]="subPlaceholder"
                                name="secondaryTypes"
                                [options]="secondaryFilteredTypes"
                                (onChange)="setTypeValue()"
                                ariaLabel="{{subPlaceholder}}"
                        >
						</formItem>
					</div>

					<!-- <div class="hidden">
						<formItem type="multi-select" title="" name="type" [options]="primaryTypes"
							[(ngModel)]="selectedTypes" (onChange)="checkLanguageDisable()">
						</formItem>
					</div> -->
					<div class="col-4 sm-12" [class.disabled]="isLanguageDisabled">
						<formItem
                                type="multi-select"
                                [disabled]="isLanguageDisabled"
                                title="{{ 'school.language' | translate }}"
                                name="language"
                                [(ngModel)]="selectedLanguage"
                                [options]="languageFilters"
                                sortOptions="true"
                                ariaLabel="{{ 'school.language' | translate }}"
                        ></formItem>
					</div>

					<div class="col-5 sm-12">
						<formItem
                                type="multi-select"
                                title="{{ 'school.ownership' | translate }}"
                                name="ownership"
                                [(ngModel)]="selectedOwnership"
                                [options]="ownershipFilters"
                                sortOptions="true"
                                ariaLabel="{{ 'school.ownership' | translate }}"
                        >
						</formItem>
					</div>

					<div class="col-3 align-end text-right sm-12 inline-flex">
						<div class="align-center filter-state sm-hide">
							<a role="button" class="pointer" (keyup.enter)="filterFull = !filterFull"
								(click)="filterFull = !filterFull" tabindex="0" aria-expanded="false">
								<span>{{ 'button.search_brief' | translate}}</span>
							</a>
						</div>
						<div class="button-row">
							<button htm-button>{{ 'button.search' | translate }}</button>
						</div>
					</div>
				</div>
			</ng-container>
		</div><!--/inline-->
	</form>
	<div class="inline">
		<block titleBorder="true">
            <block-title><h1>{{ 'school.label' | translate }}</h1></block-title>
			<block-content tabLabel="{{ 'school.list' | translate }}" tabLink="{{ '/kool' | translatePath }}" [queryParams]="params" [tabActive]="true" tabIcon="list">
				<searchResults type="school" limit="24"></searchResults>
			</block-content>
			<block-content tabLabel="{{ 'school.map' | translate }}" tabLink="{{ '/kool/kaart' | translatePath }}" [queryParams]="params" tabIcon="map-pin-alt"></block-content>
		</block>
	</div><!--/inline-->
</base-layout>
