<base-layout>
	<breadcrumbs path="/ametialad"></breadcrumbs>
	<form class="filter-wrapper" filters>
		<div class="sm-show text-right filter-control">
			<a href="javascript:void(0);" (click)="showFilter = !showFilter">
				<span *ngIf="!showFilter">{{ 'button.filter' | translate }}</span>
				<span *ngIf="showFilter">{{ 'button.filter_close' | translate }}</span>
			</a>
		</div>
		<ng-container *ngIf="showFilter">
			<div class="row">
				<div class="col-4 sm-12">
					<formItem type="text" title="{{ 'search.keyword' | translate }}" name="title"></formItem>
				</div>
				<div class="col-5 sm-12">
					<formItem type="multi-select" title="{{ 'oska.title_field' | translate }}" name="oskaFieldValue"
						[options]="oskaFields"></formItem>
				</div>

				<div class="col-3 align-end text-right sm-12 inline-flex" *ngIf="!filterFull">
					<div class="align-center filter-state sm-hide">
						<a role="button" class="pointer" (keyup.enter)="filterFull = !filterFull"
							(click)="filterFull = !filterFull" tabindex="0" aria-expanded="false">
							<span>{{ 'button.search_detailed' | translate}}</span>
						</a>
					</div>
					<div class="button-row">
						<button htm-button>{{ 'button.search' | translate }}</button>
					</div>
				</div>

			</div>
			<!--/row-->
			<div class="row" *ngIf="filterFull">
				<div class="col-4 sm-12">
					<formItem type="multi-select" title="{{ 'oska.competition' | translate }}" name="fillingBar"
						[options]="competitionFilters" [(ngModel)]="competitionSelection">
					</formItem>
				</div>
				<div class="col-5 sm-12">
					<formItem type="select" title="{{ 'button.sort' | translate }}" name="sort" [options]="sortedBy"
						[(ngModel)]="sort" (onChange)="setSortDirection()">
					</formItem>
				</div>
				<div class="hidden">
					<formItem type="text" title="{{ 'button.sort' | translate }}" name="sortField"
						[(ngModel)]="sortField">
					</formItem>
				</div>
				<div class="hidden">
					<formItem type="text" title="{{ 'button.sort' | translate }}" name="sortDirection"
						[(ngModel)]="sortDirection">
					</formItem>
				</div>
				<div class="col-9 sm-12">
						<formItem type="multi-select" title="{{ 'oskaProfessions.tags' | translate }}" name="fixedLabel"
							[options]="fixedLabels" [(ngModel)]="fixedLabelSelection">
						</formItem>
					</div>

				<div class="col-3 align-end text-right sm-12 inline-flex">
					<div class="align-center filter-state sm-hide">
						<a role="button" class="pointer" (keyup.enter)="filterFull = !filterFull"
							(click)="filterFull = !filterFull" tabindex="0" aria-expanded="false">
							<span>{{ 'button.search_brief' | translate}}</span>
						</a>
					</div>
					<div class="button-row">
						<button htm-button>{{ 'button.search' | translate }}</button>
					</div>
				</div>
			</div>
		</ng-container>
	</form>
	<block titleBorder="true">
		<block-title>{{ 'oskaProfessions.main_profession' | translate }}</block-title>
		<block-content>
			<searchResults type="mainProfession" compare="oskaProfessions.compare" limit="24"></searchResults>
		</block-content>
	</block>
</base-layout>