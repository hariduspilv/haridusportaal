<base-layout>
  <div class="inline">
    <breadcrumbs [path]="breadcrumbsPath"></breadcrumbs>
  </div><!--/inline-->

  <div class="filters">
    <form class="filter-wrapper" filters [eventTracker]="getGoogleAnalyticsObject()">
      <div class="inline">
        <div #filterToggle class="sm-show text-right filter-control">
          <a href="javascript:void(0);" (click)="showFilter = !showFilter">
            <span *ngIf="!showFilter">{{ 'button.filter' | translate }}</span>
            <span *ngIf="showFilter">{{ 'button.filter_close' | translate }}</span>
          </a>
        </div>
        <div class="row" *ngIf="showFilter">
          <div class="col-4 sm-12" [class.col-9]="hasCalendar">
            <formItem type="text"
                      title="{{ 'news.filter_name' | translate }}"
                      name="title"
                      [(ngModel)]="searchTitle"
                      [ariaLabel]="'news.filter_name' | translate"
            ></formItem>
          </div>
          <!--/col-4-->
          <div class="col-25 sm-12" *ngIf="!hasCalendar">
            <formItem type="date"
                      ariaLabel="{{ 'time.date_period_from' | translate }}"
                      title="{{ 'time.date_period_from' | translate }}"
                      name="dateFrom"
            ></formItem>
          </div>
          <!--/col-3-->
          <div class="col-25 sm-12" *ngIf="!hasCalendar">
            <formItem type="date"
                      ariaLabel="{{ 'time.date_period_to' | translate }}"
                      title="{{ 'time.date_period_to' | translate }}"
                      name="dateTo"
            ></formItem>
          </div>

          <div class="col-3 align-end text-right sm-12 inline-flex" *ngIf="!filterFull">
            <div class="align-center filter-state sm-hide">
              <a #detailed role="button" class="pointer" (keyup.enter)="expandFilters()"
                (click)="expandFilters()" tabindex="0" aria-expanded="false">
                <span>{{ 'button.search_detailed' | translate}}</span>
              </a>
            </div>
            <div class="button-row">
              <button htm-button>{{ 'button.search' | translate }}</button>
            </div>
          </div>

        </div>

        <div class="row" *ngIf="filterFull && showFilter">
          <div class="col-9 sm-12">
            <formItem #hiddenFormItem
                      type="multi-select"
                      ariaLabel="{{ 'event.filter_types' | translate }}"
                      title="{{ 'event.filter_types' | translate }}"
                      name="types"
                      [options]="eventsTypes"
            ></formItem>
          </div>
          <div class="col-9 sm-12">
            <formItem type="multi-select"
                      ariaLabel="{{ 'event.filter_tags' | translate }}"
                      title="{{ 'event.filter_tags' | translate }}"
                      name="tags"
                      [options]="eventsTags"
            ></formItem>
          </div>

          <div class="col-3 align-end text-right sm-12 inline-flex brief">
            <div class="align-center filter-state sm-hide">
              <a role="button" class="pointer" (keyup.enter)="expandFilters()"
                (click)="expandFilters()" tabindex="0" aria-expanded="false">
                <span>{{ 'button.search_brief' | translate}}</span>
              </a>
            </div>
            <div class="button-row">
              <button htm-button>{{ 'button.search' | translate }}</button>
            </div>
          </div>
        </div>
      </div><!--/inline-->
    </form>
  </div><!--/filters-->
  <div class="inline">
    <events-list></events-list>
  </div><!--/inline-->
</base-layout>
