

<div class="sm-show text-right filter-control">
  <a href="javascript:void(0);" (click)="showFilter = !showFilter">
    <span *ngIf="!showFilter">{{ 'button.filter' |translate }}</span>
    <span *ngIf="showFilter">{{ 'button.filter_close' | translate }}</span>
  </a> 
</div>

<form (submit)="filterSubmit()" class="filter-wrapper" *ngIf="showFilter">
  <div class="main-container">
    <div class="row">
      <div class="col-4 sm-12">
        <div class="round-input__wrapper" [class.complete]="filterFormItems.title">
          <span class="round-input__title">{{ 'school.name' | translate }}</span>
          <div class="round-input__field-wrapper">
            <input class="round-input__field" placeholder="{{ 'school.name' | translate }} " [(ngModel)]='filterFormItems.title' name="title" />
          </div>
        </div><!--/round-inpuit__wrapper-->
      </div><!--/col-4-->
      <div class="col-3 align-end text-right sm-12 inline-flex sm-hide" *ngIf="!filterFull">
        <div class="align-center filter-state sm-hide">       
          <a role="button" tabindex="0"  href="javascript:void(0);"  (click)="filterFull = !filterFull" aria-expanded="false">
            <span class="md-hide">{{ 'button.search_detailed' | translate }}</span>
            <span class="md-show">{{ 'button.filter' | translate }}</span>
          </a>
        </div>
        <div class="button-row">
          <button role="button" mat-raised-button color="primary">{{ 'button.search' | translate }}</button>
        </div>
      </div><!--/col-3-->
    </div><!--/row-->
  
    <div class="row" *ngIf="filterFull" style="margin-top:0.5rem;">
      <div class="col-4 sm-12">
        <div class="round-input__wrapper">
          <mat-form-field>
            <mat-select placeholder="{{ 'school.institution_type' | translate }}" [(ngModel)]="filterFormItems.type" name="type">
              <mat-option>{{ 'button.all' | translate }}</mat-option>
              <ng-container *ngFor="let item of typeOptions">
                <mat-option *ngIf="item.parentId == null" [value]="item.entityId">
                  {{ item.entityLabel }}
                </mat-option>
              </ng-container>
            </mat-select>
          </mat-form-field>
        </div><!--/round-input__wrapper-->
        
      </div>

      <div class="col-5 sm-12">
        <div class="round-input__wrapper" [class.disabled]="getSubTypes('type').length == 0">
          <mat-form-field>
            <mat-select [placeholder]="getSubTypes('type').length !== 0 ? translate.get('school.institution_sublevel')['value'] : translate.get('school.institution_select_type')['value']" [(ngModel)]="filterFormItems.subtype" name="subtype">
              <mat-option *ngIf="getSubTypes('type').length !== 0">{{ 'button.all' | translate }}</mat-option>
              <mat-option *ngFor="let item of getSubTypes('type')" [value]="item.entityId">
                {{ item.entityLabel }}
              </mat-option>

            </mat-select>
          </mat-form-field>
        </div><!--/round-input__wrapper-->
      </div><!--/col-5-->

      <div class="col-4 sm-12">
        <div class="round-input__wrapper">
          <mat-form-field>
            <mat-select placeholder="{{ 'school.language' | translate }}" [(ngModel)]="filterFormItems.language" name="language">
              <mat-option>{{ 'button.all' | translate }}</mat-option>
              <mat-option *ngFor="let item of languageOptions" [value]="item.entityId">
                {{ item.entityLabel }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div><!--/round-input__wrapper-->
      </div><!--/col-4-->

      <div class="col-5 sm-12">
        <div class="round-input__wrapper">
          <mat-form-field>
            <mat-select placeholder="{{ 'school.ownership' | translate }}" [(ngModel)]="filterFormItems.ownership" name="ownership">
              <mat-option>{{ 'button.all' | translate }}</mat-option>
              <mat-option *ngFor="let item of ownershipOptions" [value]="item.entityId">
                {{ item.entityLabel }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div><!--/round-input__wrapper-->
      </div><!--/col-5-->

      <div class="col-9">
        <div class="form-spacer-20"></div>
        <div class="custom-checkbox">
          <mat-checkbox [(ngModel)]="filterFormItems.specialClass" name="specialClass">{{ 'school.special_needs_short' | translate }}</mat-checkbox>
        </div><!--/custom-checkbox-->
        <div class="custom-checkbox">
          <mat-checkbox [(ngModel)]="filterFormItems.studentHome" name="studentHome">{{ 'school.dormitory' | translate}}</mat-checkbox>
        </div><!--/custom-checkbox-->
      </div><!--/col-9-->
      <div class="col-3 align-end text-right sm-12 inline-flex">
        <div class="align-center filter-state sm-hide">       
          <a role="button" href="javascript:void(0);" (click)="filterFull = !filterFull" aria-expanded="true">
            <span class="md-hide">{{ 'button.search_brief' | translate }}</span>
          </a>
        </div>
        <div class="button-row">
          <button role="button" mat-raised-button color="primary">{{ 'button.search' | translate }}</button>
        </div>
      </div><!--/col-3-->
    </div><!--/row-->
  </div>
</form>