
<div class="main-container">
  <div class="row">
    <div class="col-8">
      <div class="block padding-block border-blue">
        <mat-spinner *ngIf="!data"></mat-spinner>
        <ng-container *ngIf="data">
          <div class="block-title" *ngIf="data.header.form_name">{{data.header.form_name}}</div>

          <div class="xjson__title" *ngIf="data.body.title">{{ selectLanguage(data.body.title) }}</div>    
          <p *ngIf="data.body.introduction">{{ selectLanguage(data.body.introduction) }}</p>

          <ul class="xjson__navigation">
            <li [class.active]="opened_step === step" *ngFor="let step of objectKeys(data.body.steps)">
              <a [class.disabled]="isStepDisabled(step)" (click)="selectStep(step)">
                <ng-container *ngIf="data.body.steps[step].title"> {{ selectLanguage(data.body.steps[step].title) }}</ng-container>
                <ng-container *ngIf="!data.body.steps[step].title"> {{ selectLanguage(data.body.steps[step]) }}</ng-container>
              </a>
            </li>
          </ul>
          <!-- STEP BODY -->
          <div class="xjson__step-title" *ngIf="data.body.steps[opened_step].title"> {{ selectLanguage(data.body.steps[opened_step].title) }} </div>
          <div class="xjson__step-introduction" *ngIf="data.body.steps[opened_step].introduction"> {{ selectLanguage(data.body.steps[opened_step].introduction) }} </div>

          <form (submit)="submitForm()" *ngIf="objectKeys(data_elements).length > 0">
            <ng-container *ngFor="let element of objectKeys(data_elements)">
              
              <div class="xjson__heading" *ngIf="data_elements[element].title">
                  {{ selectLanguage(data_elements[element].title) }}
              </div>
              {{data_elements[element].type}}
              
            </ng-container>
          </form>
          <!-- /STEP BODY -->
          <div class="button-row">
            <ng-container *ngFor="let activity of activityButtons">
                <button  role="button" mat-raised-button [color]="[activity.style]" (click)="submitForm(activity.action)">{{ activity.label | translate }}</button>
            </ng-container>
          </div>
          

          <a href="javascript:void(0);" (click)="selectStep(link.step)" *ngFor="let link of navigationLinks">{{ link.label | translate }}</a>
        </ng-container>
      </div> <!--/block border-blue-->
    </div><!--/col-8-->
    
  </div><!--/row-->      
</div><!--/main-container-->